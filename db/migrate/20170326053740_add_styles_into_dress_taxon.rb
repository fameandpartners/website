class AddStylesIntoDressTaxon < ActiveRecord::Migration
  def up
    taxon = Spree::Taxon.find_by_permalink('style/dress')
    product_ids = []
    product_ids += find_product_ids('fp2261p')
    product_ids += find_product_ids('fp2320')
    product_ids += find_product_ids('fp2042')
    product_ids += find_product_ids('fp2185')
    product_ids += find_product_ids('usp1026')
    product_ids += find_product_ids('4B466')
    product_ids += find_product_ids('fp2051')
    product_ids += find_product_ids('fp2196')
    product_ids += find_product_ids('fp2307')
    product_ids += find_product_ids('4b409l')
    product_ids += find_product_ids('c161043b')
    product_ids += find_product_ids('usp1012')
    product_ids += find_product_ids('usp1014')
    product_ids += find_product_ids('4B196')
    product_ids += find_product_ids('fp2266')
    product_ids += find_product_ids('fp2059')
    product_ids += find_product_ids('4B587')
    product_ids += find_product_ids('fpmc118')
    product_ids += find_product_ids('4B164')
    product_ids += find_product_ids('fp2359')
    product_ids += find_product_ids('fp2127')
    product_ids += find_product_ids('c161019')
    product_ids += find_product_ids('c161027')
    product_ids += find_product_ids('4B555')
    product_ids += find_product_ids('fpmc214')
    product_ids += find_product_ids('4B590')
    product_ids += find_product_ids('usp1220p')
    product_ids += find_product_ids('fp2238')
    product_ids += find_product_ids('4B064')
    product_ids += find_product_ids('usp1234')
    product_ids += find_product_ids('4B300')
    product_ids += find_product_ids('c161051')
    product_ids += find_product_ids('fp2249')
    product_ids += find_product_ids('fp2173')
    product_ids += find_product_ids('4b450l')
    product_ids += find_product_ids('fp2178')
    product_ids += find_product_ids('4b398l')
    product_ids += find_product_ids('fp2166b')
    product_ids += find_product_ids('4b487c')
    product_ids += find_product_ids('fp2064')
    product_ids += find_product_ids('c161045')
    product_ids += find_product_ids('fp2003')
    product_ids += find_product_ids('fp2298p')
    product_ids += find_product_ids('fp2283')
    product_ids += find_product_ids('c161030')
    product_ids += find_product_ids('USP1065P')
    product_ids += find_product_ids('usp1001')
    product_ids += find_product_ids('fp2280')
    product_ids += find_product_ids('4B573')
    product_ids += find_product_ids('4B054')
    product_ids += find_product_ids('fp2290')
    product_ids += find_product_ids('c161054')
    product_ids += find_product_ids('4B568')
    product_ids += find_product_ids('fp2199b')
    product_ids += find_product_ids('c161038')
    product_ids += find_product_ids('fp2272')
    product_ids += find_product_ids('fp2029')
    product_ids += find_product_ids('fp2192p')
    product_ids += find_product_ids('fp2193')
    product_ids += find_product_ids('4B588')
    product_ids += find_product_ids('usp1205')
    product_ids += find_product_ids('4B159')
    product_ids += find_product_ids('fp2136')
    product_ids += find_product_ids('4b130l')
    product_ids += find_product_ids('usp1082')
    product_ids += find_product_ids('fp2138p')
    product_ids += find_product_ids('usp1074p')
    product_ids += find_product_ids('fp2153')
    product_ids += find_product_ids('4B501')
    product_ids += find_product_ids('usp1025')
    product_ids += find_product_ids('4B366')
    product_ids += find_product_ids('fp2206')
    product_ids += find_product_ids('usp1223p')
    product_ids += find_product_ids('4b564b')
    product_ids += find_product_ids('fp2262')
    product_ids += find_product_ids('fp2052')
    product_ids += find_product_ids('4B305')
    product_ids += find_product_ids('usp1017l')
    product_ids += find_product_ids('usp1008')
    product_ids += find_product_ids('fp2011')
    product_ids += find_product_ids('1310029W')
    product_ids += find_product_ids('fp2305')
    product_ids += find_product_ids('fp2184')
    product_ids += find_product_ids('fp2298')
    product_ids += find_product_ids('usp1016l')
    product_ids += find_product_ids('usp1007')
    product_ids += find_product_ids('fp2252')
    product_ids += find_product_ids('fp2248')
    product_ids += find_product_ids('usp1022c')
    product_ids += find_product_ids('fp2156')
    product_ids += find_product_ids('4B297')
    product_ids += find_product_ids('c161008')
    product_ids += find_product_ids('4b130w')
    product_ids += find_product_ids('usp1096')
    product_ids += find_product_ids('fp2014')
    product_ids += find_product_ids('fp2254b')
    product_ids += find_product_ids('fp2032')
    product_ids += find_product_ids('fp2302')
    product_ids += find_product_ids('4B506B')
    product_ids += find_product_ids('usp1217')
    product_ids += find_product_ids('4B464')
    product_ids += find_product_ids('c161021')
    product_ids += find_product_ids('fp2276')
    product_ids += find_product_ids('fp2191')
    product_ids += find_product_ids('fp2157')
    product_ids += find_product_ids('fp2144')
    product_ids += find_product_ids('4B279')
    product_ids += find_product_ids('fp2202')
    product_ids += find_product_ids('fp2060')
    product_ids += find_product_ids('c161041')
    product_ids += find_product_ids('fp2211')
    product_ids += find_product_ids('fp2199')
    product_ids += find_product_ids('fp2143')
    product_ids += find_product_ids('fpmc107')
    product_ids += find_product_ids('fp2136p')
    product_ids += find_product_ids('fp2045')
    product_ids += find_product_ids('usp1232')
    product_ids += find_product_ids('4B387')
    product_ids += find_product_ids('usp1008d')
    product_ids += find_product_ids('fp2258')
    product_ids += find_product_ids('fp2256')
    product_ids += find_product_ids('usp1007l')
    product_ids += find_product_ids('usp1024')
    product_ids += find_product_ids('fp2056')
    product_ids += find_product_ids('fp2255')
    product_ids += find_product_ids('4B591')
    product_ids += find_product_ids('fp2155')
    product_ids += find_product_ids('fp2224')
    product_ids += find_product_ids('fp2197')
    product_ids += find_product_ids('fp2236')
    product_ids += find_product_ids('4B161')
    product_ids += find_product_ids('4B633')
    product_ids += find_product_ids('fp2275')
    product_ids += find_product_ids('fp2050')
    product_ids += find_product_ids('fp2048')
    product_ids += find_product_ids('4B320')
    product_ids += find_product_ids('c161037')
    product_ids += find_product_ids('4B277')
    product_ids += find_product_ids('fp2011p')
    product_ids += find_product_ids('4B141')
    product_ids += find_product_ids('fp2286')
    product_ids += find_product_ids('fp2098')
    product_ids += find_product_ids('c161036')
    product_ids += find_product_ids('fp2034p')
    product_ids += find_product_ids('fp2063')
    product_ids += find_product_ids('fp2203')
    product_ids += find_product_ids('usp1017')
    product_ids += find_product_ids('fp2109')
    product_ids += find_product_ids('fp2268')
    product_ids += find_product_ids('usp1064')
    product_ids += find_product_ids('fp2021')
    product_ids += find_product_ids('usp1073')
    product_ids += find_product_ids('4b636')
    product_ids += find_product_ids('usp1002l')
    product_ids += find_product_ids('4B268')
    product_ids += find_product_ids('4B123')
    product_ids += find_product_ids('4B487B')
    product_ids += find_product_ids('fp2148')
    product_ids += find_product_ids('fp2227')
    product_ids += find_product_ids('usp1091')
    product_ids += find_product_ids('4B396')
    product_ids += find_product_ids('fp2251')
    product_ids += find_product_ids('fp2006')
    product_ids += find_product_ids('4B332')
    product_ids += find_product_ids('fp2250')
    product_ids += find_product_ids('fp2174')
    product_ids += find_product_ids('c161042p2')
    product_ids += find_product_ids('fp2159')
    product_ids += find_product_ids('fp2176b')
    product_ids += find_product_ids('fp2294')
    product_ids += find_product_ids('4B257')
    product_ids += find_product_ids('fp2231')
    product_ids += find_product_ids('c161029')
    product_ids += find_product_ids('fp2273')
    product_ids += find_product_ids('fp2049')
    product_ids += find_product_ids('fp2259')
    product_ids += find_product_ids('fp2293')
    product_ids += find_product_ids('usp1004')
    product_ids += find_product_ids('fp2183')
    product_ids += find_product_ids('fp2282')
    product_ids += find_product_ids('c161044b')
    product_ids += find_product_ids('fpmc266')
    product_ids += find_product_ids('fp2201')
    product_ids += find_product_ids('fp2150p')
    product_ids += find_product_ids('fp2242')
    product_ids += find_product_ids('usp1033')
    product_ids += find_product_ids('usp1060')
    product_ids += find_product_ids('fp2299')
    product_ids += find_product_ids('c161047p')
    product_ids += find_product_ids('fp2237')
    product_ids += find_product_ids('4b297w')
    product_ids += find_product_ids('c161046')
    product_ids += find_product_ids('fp2308')
    product_ids += find_product_ids('4B276')
    product_ids += find_product_ids('fp2118')
    product_ids += find_product_ids('usp1079p')
    product_ids += find_product_ids('c161001')
    product_ids += find_product_ids('fp2288')
    product_ids += find_product_ids('fp2223')
    product_ids += find_product_ids('usp1040')
    product_ids += find_product_ids('fp2230')
    product_ids += find_product_ids('fp2278')
    product_ids += find_product_ids('4B540')
    product_ids += find_product_ids('fp2253')
    product_ids += find_product_ids('usp1023')
    product_ids += find_product_ids('fp2033')
    product_ids += find_product_ids('fp2037')
    product_ids += find_product_ids('usp1003')
    product_ids += find_product_ids('fp2260')
    product_ids += find_product_ids('4b164l')
    product_ids += find_product_ids('fp2301')
    product_ids += find_product_ids('fp2183b')
    product_ids += find_product_ids('c161002')
    product_ids += find_product_ids('fp2228')
    product_ids += find_product_ids('usp1095')
    product_ids += find_product_ids('4B301')
    product_ids += find_product_ids('c161026')
    product_ids += find_product_ids('4b592l')
    product_ids += find_product_ids('fp2269')
    product_ids += find_product_ids('fp2142')
    product_ids += find_product_ids('usp1022b')
    product_ids += find_product_ids('fp2057')
    product_ids += find_product_ids('fp2044')
    product_ids += find_product_ids('usp1022')
    product_ids += find_product_ids('fp2187')
    product_ids += find_product_ids('fp2006p')
    product_ids += find_product_ids('usp1029')
    product_ids += find_product_ids('fpmc116')
    product_ids += find_product_ids('fpmc124')
    product_ids += find_product_ids('usp1006')
    product_ids += find_product_ids('4B480')
    product_ids += find_product_ids('fp2243')
    product_ids += find_product_ids('fp2255p')
    product_ids += find_product_ids('fp2198')
    product_ids += find_product_ids('fp2273m')
    product_ids += find_product_ids('usp1050')
    product_ids += find_product_ids('fp2246')
    product_ids += find_product_ids('c161003b')
    product_ids += find_product_ids('fp2241')
    product_ids += find_product_ids('fp2323')
    product_ids += find_product_ids('fp2027p')
    product_ids += find_product_ids('fp2281')
    product_ids += find_product_ids('fp2297')
    product_ids += find_product_ids('usp1078')
    product_ids += find_product_ids('c161017')
    product_ids += find_product_ids('4B107')
    product_ids += find_product_ids('usp1036')
    product_ids += find_product_ids('fp2296b')
    product_ids += find_product_ids('fp2191b')
    product_ids += find_product_ids('fp2204')
    product_ids += find_product_ids('usp1072')
    product_ids += find_product_ids('usp1068')
    product_ids += find_product_ids('4B130')
    product_ids += find_product_ids('fp2154')
    product_ids += find_product_ids('usp1085')
    product_ids += find_product_ids('fp2061')
    product_ids += find_product_ids('fpmc230')
    product_ids += find_product_ids('fp2226')
    product_ids += find_product_ids('4B567')
    product_ids += find_product_ids('fp2062')
    product_ids += find_product_ids('fp2029b')
    product_ids += find_product_ids('fp2015p')
    product_ids += find_product_ids('fp2141')
    product_ids += find_product_ids('4b464l')
    product_ids += find_product_ids('fp2039')
    product_ids += find_product_ids('usp1047')
    product_ids += find_product_ids('usp1220')
    product_ids += find_product_ids('4b464b')
    product_ids += find_product_ids('4B016DL')
    product_ids += find_product_ids('4B589')
    product_ids += find_product_ids('fp2300')
    product_ids += find_product_ids('fp2122')
    product_ids += find_product_ids('fpmc117')
    product_ids += find_product_ids('fp2284')
    product_ids += find_product_ids('4B398')
    product_ids += find_product_ids('fp2192b')
    product_ids += find_product_ids('4b643')
    product_ids += find_product_ids('usp1018')
    product_ids += find_product_ids('fp2113')
    product_ids += find_product_ids('4B462')
    product_ids += find_product_ids('4B113')
    product_ids += find_product_ids('c161004')
    product_ids += find_product_ids('fp2046')
    product_ids += find_product_ids('fp2207')
    product_ids += find_product_ids('fp2210')
    product_ids += find_product_ids('fp2263')
    product_ids += find_product_ids('c161028')
    product_ids += find_product_ids('c161024')
    product_ids += find_product_ids('fprv1027')
    product_ids += find_product_ids('fp2186')
    product_ids += find_product_ids('fpmc126')
    product_ids += find_product_ids('fp2195')
    product_ids += find_product_ids('c161006')
    product_ids += find_product_ids('usp1065p')
    product_ids += find_product_ids('fp2289')
    product_ids += find_product_ids('4B408')
    product_ids += find_product_ids('4B157')
    product_ids += find_product_ids('usp1016')
    product_ids += find_product_ids('fp2146')
    product_ids += find_product_ids('4B316')
    product_ids += find_product_ids('fp2221')
    product_ids += find_product_ids('c161012')
    product_ids += find_product_ids('fp2020')
    product_ids += find_product_ids('fp2112')
    product_ids += find_product_ids('fp2265')
    product_ids += find_product_ids('usp1097')
    product_ids += find_product_ids('USP1029')
    product_ids += find_product_ids('fp2209')
    product_ids += find_product_ids('fpmc120')
    product_ids += find_product_ids('4B511')
    product_ids += find_product_ids('4B281')
    product_ids += find_product_ids('fp2002l')
    product_ids += find_product_ids('fp2239')
    product_ids += find_product_ids('4B612')
    product_ids += find_product_ids('fp2115')
    product_ids += find_product_ids('fp2097')
    product_ids += find_product_ids('c161003')
    product_ids += find_product_ids('4B280')
    product_ids += find_product_ids('4B094')
    product_ids += find_product_ids('usp1015')
    product_ids += find_product_ids('fp2240')
    product_ids += find_product_ids('c161021p')
    product_ids += find_product_ids('usp1083')
    product_ids += find_product_ids('fp2295')
    product_ids += find_product_ids('fp2188')
    product_ids += find_product_ids('fp2192')
    product_ids += find_product_ids('usp1007p')
    product_ids += find_product_ids('fp2304')
    product_ids += find_product_ids('1310023CL')
    product_ids += find_product_ids('fp2137')
    product_ids += find_product_ids('fp2176')
    product_ids += find_product_ids('fp2055')
    product_ids += find_product_ids('4B297B')
    product_ids += find_product_ids('c161025')
    product_ids += find_product_ids('fp2205')
    product_ids += find_product_ids('fpmc108')
    product_ids += find_product_ids('fp2261')
    product_ids += find_product_ids('c161037p')
    product_ids += find_product_ids('fp2222')
    product_ids += find_product_ids('fp2169')
    product_ids += find_product_ids('4B450')
    product_ids += find_product_ids('fp2254')
    product_ids += find_product_ids('fp2198m')
    product_ids += find_product_ids('fp2208')
    product_ids += find_product_ids('fp2170')
    product_ids += find_product_ids('usp1013')
    product_ids += find_product_ids('c161043')
    product_ids += find_product_ids('fp2029p')
    product_ids += find_product_ids('fp2229')
    product_ids += find_product_ids('fp2047')
    product_ids += find_product_ids('fp2150')
    product_ids += find_product_ids('fp2166')
    product_ids += find_product_ids('fp2245')
    product_ids += find_product_ids('usp1027l')
    product_ids += find_product_ids('usp1045')
    product_ids += find_product_ids('fp2244')
    product_ids += find_product_ids('4B386')
    product_ids += find_product_ids('fp2274')
    taxon.product_ids = product_ids.uniq
    taxon.save
  end

  def down
    taxon.product_ids = []
    taxon.save
  end

  private
  def find_product_ids( style_number )
    GlobalSku.where( "style_number ILIKE ?", style_number ).collect do |global_sku|
      if( global_sku.present? )
        variant = Spree::Variant.where("spree_variants.sku ILIKE ?", "#{global_sku.sku}%").first
        if( variant.present? )
          variant.product.id
        else
          nil
        end
      else
        nil
      end
    end.compact.uniq
  end
  
end
