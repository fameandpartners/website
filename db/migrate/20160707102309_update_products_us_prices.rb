class UpdateProductsUsPrices < ActiveRecord::Migration
  def up
    new_us_prices = [
      ['4B141', 'BACKLESS DREAMER', '199.00'],
      ['USP1004', 'Cali Two Piece', '279.00'],
      ['4B570', 'Roxy', '279.00'],
      ['4B208', 'Ellery', '249.00'],
      ['4B164', 'Paradise Dream', '249.00'],
      ['4b196', 'Valerie', '279.00'],
      ['USP1007', 'Sarah', '249.00'],
      ['USP1006P', 'Janine', '299.00'],
      ['USP1008PD', 'Clover Two Piece', '299.00'],
      ['USP1078', 'Winslow', '249.00'],
      ['USP1008P', 'Florence Two Piece', '299.00'],
      ['USP1061', 'Sheridan', '289.00'],
      ['4B398L', 'Ethereal Whisper', '289.00'],
      ['USP1079P', 'Knox Two Piece', '329.00'],
      ['4B493', 'Atlantis', '229.00'],
      ['4B311', 'Penelope', '299.00'],
      ['4B281L', 'Evangeline', '299.00'],
      ['4B164L', 'Isla', '299.00'],
      ['USP1022B', 'Veranika Two Piece', '299.00'],
      ['4B337', 'Chevron', '249.00'],
      ['USP1022C', 'Grand Lily Two Piece', '299.00'],
      ['4B493W', 'Atlantis', '229.00'],
      ['4B332', 'Jewelled Night', '399.00'],
      ['USP1016P3', 'Piper', '299.00'],
      ['4B512', 'Wired Floral', '269.00'],
      ['USP1016L', 'Stardust Lace', '299.00'],
      ['USP1002P', 'Lotus Doll', '289.00'],
      ['USP1002PB', 'Reptilia', '289.00'],
      ['4B337C', 'Avenue Two Piece', '229.00'],
      ['USP1012', 'Megan', '279.00'],
      ['1310029CL', 'TEMPEST', '279.00'],
      ['4B450', 'Allegra', '279.00'],
      ['USP1015', 'French Affair', '249.00'],
      ['USP1006', 'Bella Vita', '279.00'],
      ['4B573', 'Lizzie', '249.00'],
      ['USP1003', 'Venus Lace', '299.00'],
      ['4B054', 'Laced Heartline', '329.00'],
      ['USP1001', 'Quincy', '279.00'],
      ['4B587', 'Queen of Peace', '299.00'],
      ['USP1002', 'Jupiter Rising', '229.00'],
      ['4B130', 'Astrid', '249.00'],
      ['4B590', 'Stella', '229.00'],
      ['4B107', 'WIRED HEART', '279.00'],
      ['4B297', 'Daisy', '279.00'],
      ['4B300', 'FIRST IN LINE', '279.00'],
      ['4B567', 'Klara', '249.00'],
      ['4B500', 'Geneva', '229.00'],
      ['4B636', 'MILDRED', '229.00'],
      ['4B314', 'STARS DREAM', '249.00'],
      ['USP1018', 'Kendall', '249.00'],
      ['USP1005', 'Justine', '249.00'],
      ['4B113', 'Glacier', '279.00'],
      ['4B396', 'Summer Angel', '249.00'],
      ['4B481', 'Heart Of Glass', '269.00'],
      ['4B161', 'Hayley Two Piece', '269.00'],
      ['4B590W', 'Stella', '229.00'],
      ['4B290', 'Emma Kate', '279.00'],
      ['USP1072', 'Fall From Heaven', '279.00'],
      ['4B276', 'HELENA', '249.00'],
      ['USP1211', 'Leah', '249.00'],
      ['4B552', 'Renegade', '229.00'],
      ['USP1011', 'Krystal', '299.00'],
      ['USP1017L', 'Belladonna', '349.00'],
      ['4B263', 'Karlie', '299.00'],
      ['USP1002S', 'Satin Siren', '249.00'],
      ['4B573W', 'Lizzie', '249.00'],
      ['4B094', 'In Dreams', '269.00'],
      ['4B511', 'Willow Two Piece', '249.00'],
      ['4B476', 'Dakota Two Piece', '229.00'],
      ['USP1013', 'Jodie', '269.00'],
      ['USP1061P', 'True Faith', '299.00'],
      ['USP1050', 'Catalina', '229.00'],
      ['USP1056', 'Yasmin Two Piece', '399.00'],
      ['4B464B', 'Charlene', '199.00'],
      ['4B160', 'Blake', '249.00'],
      ['4B466', 'Bea', '239.00'],
      ['4B130L', 'Lola', '249.00'],
      ['4B215', 'chanel', '299.00'],
      ['4B497', 'Brooke Jumpsuit', '239.00'],
      ['USP1035', 'Zinnia', '249.00'],
      ['4B450B', 'Allegra', '279.00'],
      ['4b202', 'Carissa', '199.00'],
      ['4B693L', 'Tallula', '249.00'],
      ['4B457', 'Rahzel', '299.00'],
      ['4B568', 'Firedust', '269.00'],
      ['4B519', 'Last Kiss', '249.00'],
      ['USP1082', 'Maison Cape', '299.00'],
      ['USP1007P', 'Lost Paradise', '329.00'],
      ['USP1025', 'Regina', '299.00'],
      ['4B409L', 'Vienna', '249.00'],
      ['USP1027L', 'Lovelight Two Piece', '299.00'],
      ['4B542', 'Alice', '229.00'],
      ['4B257', 'Sheer Genie', '299.00'],
      ['4B016DL', 'starry sky', '299.00'],
      ['USP1071', 'Friar Lace', '349.00'],
      ['USP1203', 'Arista', '299.00'],
      ['USP1018W', 'Austin', '229.00'],
      ['4B409', 'Sweet Dreamer', '229.00'],
      ['4B498B', 'Raenah Jumpsuit', '249.00'],
      ['4B656', 'Retrogade', '299.00'],
      ['USP1212', 'Brie', '269.00'],
      ['4B326', 'Julie Two Piece', '299.00'],
      ['USP1074P', 'Luella Two Piece', '329.00'],
      ['USP1002L', 'Odesza', '299.00'],
      ['4B113B', 'Marissa', '229.00'],
      ['4B350', 'Gathered Angel', '249.00'],
      ['4B304', 'Evelyn', '349.00'],
      ['USP1013L', 'Kara', '249.00'],
      ['4B206', 'JAMIE', '229.00'],
      ['4B613L', 'Aspen', '349.00'],
      ['USP1036', 'Sweet Disposition', '349.00'],
      ['USP1029', 'Romeo', '299.00'],
      ['USP1201', 'Clemence Two Piece', '399.00'],
      ['USP1083', 'Sabrina', '229.00'],
      ['USP1030', 'Eveleigh', '249.00'],
      ['4B513', 'Lace Genie', '299.00'],
      ['4B571', 'Rory Two Piece', '229.00'],
      ['4B542L', 'Lily Rose', '299.00'],
      ['4B472', 'Ashley Jumpsuit', '249.00'],
      ['USP1084K', 'Delta', '229.00'],
      ['4B573P', 'SATURN DOLL', '299.00'],
      ['4B166B', 'Leilani', '229.00'],
      ['USP1019', 'Bianca Two Piece', '269.00'],
      ['FPSS13054', 'Graphic Doll', '299.00'],
      ['4B633', 'TABITHA', '349.00'],
      ['4B506', 'MEREDITH', '229.00'],
      ['USP1009', 'Divya', '299.00'],
      ['4B460', 'Geo Doll', '249.00'],
      ['4B592L', 'Estelle Two Piece', '349.00'],
      ['4B161S', 'Belle Two Piece', '269.00'],
      ['USP1095', 'Etro', '249.00'],
      ['4B299C', 'Christine', '199.00'],
      ['USP1047', 'Cole', '269.00'],
      ['USP1097', 'Sarina', '249.00'],
      ['USP1062', 'Clarissa', '269.00'],
      ['4B645', 'Feathered Lover', '249.00'],
      ['USP1038', 'Verona Lace', '299.00'],
      ['4B636B', 'Amanda', '229.00'],
      ['4B337P', 'Akshara Two Piece', '269.00'],
      ['4B613', 'MISHA', '229.00'],
      ['USP1085', 'Onyx', '349.00'],
      ['USP1232', 'Gia', '299.00'],
      ['USP1229P', 'Yves', '299.00'],
      ['4B435B', 'Pia', '199.00'],
      ['4B159B', 'Kylie', '229.00'],
      ['4B559', 'Leisa', '349.00'],
      ['4B257B', 'Felicity', '279.00'],
      ['USP1048', 'Lana', '269.00'],
      ['USP1205', 'Cera', '229.00'],
      ['C161054', 'Milena Two Piece', '299.00'],
      ['c161006', 'Sevia', '299.00'],
      ['c161047p', 'Harriet', '299.00'],
    ]

    new_us_prices.each do |(style, _, new_price_string)|
      master_variant = Spree::Variant.where(is_master: true).where('sku ILIKE ?', style).first

      if master_variant.nil?
        say %Q{Style "#{style}" does not exist! Skipping...}
        next
      end

      new_price      = Float(new_price_string)
      usd_prices     = master_variant.product.prices.where(currency: 'USD')

      usd_prices.each do |price|
        price.amount = new_price
        price.save
      end
    end
  end

  def down
    # NOOP
  end
end
