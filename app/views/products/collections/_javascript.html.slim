ruby:
  page_size ||= 21

javascript:
  jQuery(document).ready(function(){
    // Filters
    window.ProductCollectionFilter__Instance = new ProductCollectionFilter({
      controls: '.js-products-collection-filter',
      content: '.js-products-collection-wrap',
      filterMetaContent: '.js-product-collection-filter',
      sortMetaContent: '.js-product-collection-sort',
      mobileBreakpoint: 992,
      page_size: #{page_size},
      reset_source: false,
      size: #{@collection.products.size.to_i},
      total_products: #{@collection.total_products.to_i},
      details_elements: {
        banner: {
          title: '.category-header .js-heading',
          description: '.panel-seo .js-sub-heading',
          image: '.category-header .media-wrap img'
        }
      }
    });
  });
