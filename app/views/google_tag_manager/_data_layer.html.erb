<%# - Always use `#push()` with dataLayer %>
<%# - dataLayer must be declared above tag manager JS import %>
<%# http://www.simoahava.com/gtm-tips/datalayer-declaration-vs-push/ %>

<script>window.dataLayer = window.dataLayer || [];</script>

<%
   # TODO: This is not going to stay here. This is going to a before action on a controller
   # page = Marketing::Gtm::PagePresenter.new(type: 'product', meta_description: get_meta_description, title: get_title, url: request.url)
   #
   # @gtm_container.append(page)
%>

<script>
    dataLayer.push(<%= @gtm_container.to_json.html_safe %>);
</script>
