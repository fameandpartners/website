namespace :data do
desc 'Hide styles in spree'
  task :hiding_styles=> :environment do
    culled_styles_first_round = [
    'FP2367',
    'FP2367',
    'FP2367',
    'FP2421',
    'FP2309',
    'FP2428',
    'FP2329',
    'FP2423',
    'FP2329P',
    'FP2376',
    'FP2350P',
    'FP2405',
    'FP2350',
    'FP2344',
    'FP2126B',
    'FP2095',
    'FP2155',
    'FP2201',
    'FP2020',
    'FP2232',
    'FP2112',
    'FP2160',
    'C161006',
    'C161051',
    'C161003',
    'FP2198',
    'FP2323',
    '4B159',
    '4B497',
    'FP2169',
    'FP2102',
    'FP2250',
    'FP2193',
    'FP2164']

    culled_styles_second_round = [
    'FP2179',
    'FP2429',
    'FPSB1045',
    'FP2337',
    'FP2554',
    'FPSB1080',
    'FP2370',
    'FP2379',
    'FP2381',
    'FP2388',
    'FP2338',
    'FP2436',
    'FPRV1018',
    '4B629SKT',
    'FP2170',
    'FP2159',
    'FP2029B',
    'FP2385',
    'FP2174',
    'FPRV1037',
    'FP2331',
    'FP2150P',
    'FP2166',
    'FP2032',
    'FP2397',
    'FP2166B',
    'FP2419',
    'FP2352',
    'FP2391',
    'FP2115',
    'FP2440',
    'FP2430',
    'FP2304',
    'FP2374',
    'FP2136P',
    'FP2427',
    'C161001',
    'FP2156',
    '4B487C',
    'FP2138P',
    'FP2432',
    'FP2373',
    'FP2384',
    'FPSB1026',
    'FPSB1002P2',
    'FP2400',
    'FP2422',
    'FPSB1044',
    'FPRV102',
    'FP2403',
    'FP2378',
    'FPSB1003',
    'FP2268',
    'FP2202',
    'FP2192P',
    'FP2181B',
    'FP2176',
    'FP2163',
    'FP2150',
    'FP2147P',
    'FP2147',
    'FP2122',
    'FP2105',
    'FP2070',
    'FP2046SKT',
    'C161054SKT',
    'C161047P',
    'C161043B',
    'C161037SKT',
    'C161037P',
    'C161003B',
    '4B654SKT',
    '4B627SKT',
    '4B500SKT',
    'FP2071B',
    'USP1231SKT',
    'USP1065P',
    'FPRV1013',
    'FPRV1005',
    'FP2190',
    'C161021P',
    'FP2196',
    'FP2205',
    'FPRV1032M',
    'FP2435',
    'FP2264',
    'FPRV1032',
    'FP2003',
    'FP2207',
    'FPRV1005B',
    'C161026'
    ]

    culled_styles_october2017 = [
    'FP2099',
    'FP2269',
    'C161054',
    'FP2299',
    'C161049',
    'FP2034P',
    '4B297B',
    'FP2383',
    'C161025',
    'FP2276',
    'FP2164B',
    'FP2438',
    '4B301',
    'FP2359',
    '4B113',
    'FP2015P',
    '4B161',
    '4B123',
    '4B466',
    'FPSB1010',
    'FP2249',
    'FP2146',
    'C161029',
    'FP2192',
    'C161038',
    'FP2067',
    '4B408',
    'FP2298P',
    'FP2254',
    '4B316',
    'C161041',
    'USP1072',
    'USP1220',
    'C161037',
    'USP1008D',
    'FP2389',
    'USP1025',
    'FP2287P',
    'USP1223P',
    'FP2239',
    '4B107',
    'USP1003',
    'FP2255',
    'FP2187',
    'FP2113',
    'FP2154',
    'FP2050',
    'FP2280',
    '4B280',
    'USP1060',
    '4B297',
    'FP2426',
    '4B300',
    'USP1014',
    'USP1029',
    'FP2236',
    'FP2412',
    '4B386',
    'USP1017L',
    '1310023CL',
    'FP2290',
    'FP2439',
    'FP2029P',
    'USP1004',
    'FP2051',
    'FP2434',
    '4B480',
    '4B054',
    'FP2199',
    'FP2398',
    'USP1074PSKT',
    '4B268',
    'FP2208',
    'USP1022',
    'FP2063',
    '4B164L',
    'USP1013',
    'USP1078',
    'FP2273M',
    'FP2071B',
    'FP2414',
    '1310029W',
    'FP2044',
    '4B564B',
    '4B277',
    'FP2267',
    'USP1099SKT',
    'C161050',
    'C161002',
    '4B398L',
    'USP1072SKT',
    'C161045',
    '4B501',
    'FP2064',
    'FP2148',
    'FPRV1027',
    'FP2437',
    'FP2293',
    'FP2255P',
    'FP2259',
    'FP2368',
    'FP2287B',
    'FP2033',
    '4B511',
    'FP2295',
    'FP2289',
    'FP2061',
    'USP1015',
    'FP2355',
    'FP2274',
    '4B462',
    'FP2266',
    '4B464',
    '4B592LSKT',
    '4B591',
    'USP1234',
    'USP1079P',
    'FP2118',
    'C161042P2',
    '4B281',
    'FP2394',
    'FP2261',
    'FP2324',
    'FP2162',
    '4B643',
    'FP2011',
    'FP2336P',
    'C161044B',
    '4B567',
    'FP2377',
    'FP2059',
    'FP2100',
    'FPSB1043',
    'FP2380',
    'FP2069',
    'FP2090',
    'C161043',
    'FPSB1010P',
    'C161037PSKT',
    'FP2192B',
    'FP2104',
    'FP2141',
    '4B627BSKT',
    'FP2098',
    'FP2409',
    'C161008SKT',
    'FP2188',
    'FP2382',
    '4B316SKT',
    'FP2197',
    '4B555',
    '4B481SKT',
    'FP2157'
    ]

    culled_styles_november2017 = [
    'FP2475',
    'FPRV1024',
    'FP2424',
    'FP2415',
    'FP2406',
    'FP2445',
    'FP2354',
    'FPSB1097',
    'FPSB1094',
    'FP2369',
    'FP2393',
    '4B297W',
    'FP2449',
    'FPRV1024P',
    'FP2474',
    'FP2471',
    'FP2318',
    'FP2431',
    'FP2256',
    'FP2448',
    'USP1074P',
    'FP2433',
    'FP2468',
    'C161028',
    'FPSB1028',
    'FP2404',
    'FPMC295',
    'FP2479B',
    'FP2552',
    'FP2479',
    'FP2390',
    '4B366',
    'FP2340',
    'FP2339',
    'FP2454',
    'FP2473',
    'FP2358',
    'FPSB1098',
    'FP2348',
    'FP2086',
    'FP2263',
    'FP2396',
    'FP2453',
    'FP2357',
    'FP2460',
    'C161046',
    'FPSB1069',
    'FP2450',
    'FP2349',
    'FP2472',
    '4B157',
    'C161019'
    ]

    culled_styles = [
    'FP2335',
    'USP1073',
    'FP2048',
    'FP2319',
    'FP2203',
    '4B094',
    'FP2564',
    'FP2186',
    'FP2265',
    'FP2417',
    'FP2570P',
    'FP2560',
    'FP2568P',
    'FP2566P',
    'FP2561',
    'FP2562',
    'FP2418',
    'FP2399',
    'FP2420',
    'FP2408',
    '4B506B',
    'FP2582',
    'FP2572'
    ]

    puts "Prepare to kill #{culled_styles.count.to_s}"

    count = 0

    culled_styles.each do | style |
      the_variant = Spree::Variant.where('lower(sku) = ?', style.downcase).first

      if the_variant
        the_variant.product.hidden = true
        the_variant.product.save!
        puts "Killed style: #{style}"
        count = count + 1
      else
        puts "Couldn't find #{style}"
      end
    end

    puts "killed a total of: #{count}"
  end
end
